!function(w){w(document).ready(function(){var k,y=w("#woosc-floating-checkout-inner");if(w("body").bind("update_checkout",function(){!function(){y.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),k&&k.abort();var e=[],t=[];woosc_checkout_data.wc_old_version?e=0<w("select#shipping_method").size()||0<w("input#shipping_method").size()?w("#shipping_method").val():w("input[name=shipping_method]:checked").val():w("select#shipping_method, input[name^=shipping_method][type=radio]:checked, input[name^=shipping_method][type=hidden]").each(function(e,o){t[w(this).data("index")]=w(this).val()});var o,i,c,a=w("#order_review input[name=payment_method]:checked").val(),n=w("#billing_country").val(),s=w("#billing_state").val(),r=w("input#billing_postcode").val(),p=w("input#billing_city").val(),d=w("input#billing_address_1").val(),u=w("input#billing_address_2").val();if(woosc_checkout_data.wc_old_version){if(w("#shiptobilling input").is(":checked")||0==w("#shiptobilling input").size())var _=n,l=s,h=r,m=p,g=d,v=u;else _=w("#shipping_country").val(),l=w("#shipping_state").val(),h=w("input#shipping_postcode").val(),m=w("input#shipping_city").val(),g=w("input#shipping_address_1").val(),v=w("input#shipping_address_2").val();o=woocommerce_params.update_order_review_nonce,i=e,c=woocommerce_params.ajax_url}else{if(w("#ship-to-different-address input").is(":checked")||0==w("#ship-to-different-address input").size())_=w("#shipping_country").val(),l=w("#shipping_state").val(),h=w("input#shipping_postcode").val(),m=w("input#shipping_city").val(),g=w("input#shipping_address_1").val(),v=w("input#shipping_address_2").val();else _=n,l=s,h=r,m=p,g=d,v=u;o=woosc_checkout_data.update_order_review_nonce,i=t,c=woosc_checkout_data.ajax_url}var f={action:"woocommerce_update_order_review",security:o,shipping_method:i,payment_method:a,country:n,state:s,postcode:r,city:p,address:d,address_2:u,s_country:_,s_state:l,s_postcode:h,s_city:m,s_address:g,s_address_2:v,post_data:w("form.checkout").serialize()};k=w.ajax({type:"POST",url:c,data:f,success:function(e){if(y.unblock(),e&&e.fragments)w.each(e.fragments,function(e,o){w(e).replaceWith(o),w(e).unblock()});else{var o=void 0===e.html?e:e.html;w("#order_review").html(o)}}})}()}),"yes"===woosc_checkout_data.option_guest_checkout){var e=w("div.create-account");e.hide(),w("input#createaccount").change(function(){e.hide(),w(this).is(":checked")&&e.slideDown()}).change()}y.on("input change","select#shipping_method, input[name^=shipping_method], input[name=shipping_method], #shiptobilling input, .update_totals_on_change select, #ship-to-different-address input",function(){w("body").trigger("update_checkout")}),y.on("click","a.showlogin",function(){return w("form.login").slideToggle(),!1}),y.on("click","a.showcoupon",function(){return w(".checkout_coupon").slideToggle(),w("#coupon_code").focus(),!1}),y.on("submit","form.checkout",function(){var i=w(this);if(i.is(".processing"))return!1;if(!1!==i.triggerHandler("checkout_place_order")&&!1!==i.triggerHandler("checkout_place_order_"+w("#order_review input[name=payment_method]:checked").val())){i.addClass("processing");i.data();w.ajax({type:"POST",url:woosc_checkout_data.ajax_url+"?action=woocommerce_checkout",data:i.serialize(),success:function(o){var t="";try{if(0<=o.indexOf("\x3c!--WC_START--\x3e")&&(o=o.split("\x3c!--WC_START--\x3e")[1]),0<=o.indexOf("\x3c!--WC_END--\x3e")&&(o=o.split("\x3c!--WC_END--\x3e")[0]),"success"!==(t=w.parseJSON(o)).result)throw"failure"===t.result?"Result failure":"Invalid response";window.location=decodeURI(t.redirect)}catch(e){if("true"===t.reload)return void window.location.reload();w(".woocommerce-error, .woocommerce-message").remove(),t.messages?i.prepend(t.messages):i.prepend(o),i.removeClass("processing").unblock(),i.find(".input-text, select").blur(),w("#flying_cart").animate({scrollTop:w("form.checkout").offset().top-100},1e3),"true"===t.refresh&&w("body").trigger("update_checkout"),w("body").trigger("checkout_error")}},dataType:"html"})}return!1}),y.on("submit","form.checkout_coupon",function(){var e,o,t=w(this);if(t.is(".processing"))return!1;o=woosc_checkout_data.wc_old_version?(woocommerce_params.ajax_loader_url,e=woocommerce_params.apply_coupon_nonce,woocommerce_params.ajax_url):(woosc_checkout_data.ajax_loader_url,e=woosc_checkout_data.apply_coupon_nonce,woosc_checkout_data.ajax_url);var i={action:"woocommerce_apply_coupon",security:e,coupon_code:t.find("input[name=coupon_code]").val()};return w.ajax({type:"POST",url:o,data:i,success:function(e){w(".woocommerce-error, .woocommerce-message").remove(),t.removeClass("processing").unblock(),e&&(t.before(e),t.slideUp(),w("body").trigger("update_checkout"))},dataType:"html"}),!1}),y.on("click",".payment_methods input.input-radio",function(){if(1<w(".payment_methods input.input-radio").length){var e=w("div.payment_box."+w(this).attr("ID"));w(this).is(":checked")&&!e.is(":visible")&&(w("div.payment_box").filter(":visible").slideUp(250),w(this).is(":checked")&&w("div.payment_box."+w(this).attr("ID")).slideDown(250))}else w("div.payment_box").show();w(this).data("order_button_text")?w("#place_order").val(w(this).data("order_button_text")):w("#place_order").val(w("#place_order").data("value"))}).find("input[name=payment_method]:checked").click()})}(jQuery);